
<!-- Navbar dropdown and search-->
<nav class="navbar navbar-expand-sm navbar-light bg-light sticky-top">
    <div class="container">
        <div class="row w-100">
            <div class="col-sm-1">
                <button *ngIf="!searchFieldActivated" type="button" class="btn btn-primary btn-sm" (click)="searchFieldActivated='true'">
                    <span class="glyphicon glyphicon-search"></span>
                </button>
                <button  *ngIf="searchFieldActivated" type="button" class=" btn btn-primary btn-sm" (click)="searchFieldActivated=!searchFieldActivated">
                    <span class="glyphicon glyphicon-remove"></span>
                </button>
            </div>
            <div class="col-sm-11">
                <div *ngIf="!searchFieldActivated">
                    <select id="selectCatory" (change)='mainCategorySelected($event)' class="form-control" name="currentOption">
                        <option  *ngFor="let $currentCategory of categories;">
                            {{$currentCategory}}</option>
                    </select>
                </div>
                <div *ngIf="searchFieldActivated">
                    <input type="text" class="form-control" name="searchFieldActivated">
                </div>
            </div>
        </div>
    </div>
</nav>

<!-- Cards-->
<div class="container">

    <div class="border"  id="imagecontainer">
       <img class="card-img-top img-fluid" src="https://source.unsplash.com/random/500x200" alt="Leckere gerichte">
    </div>
    <div class="row ">
     
<div class="card col-sm-6 mt-4" *ngFor="let $product of productsForSelectedCategory;">
        <div class="card-body">
            <h4 class="card-title">{{$product.description}}</h4>
            <p class="card-text text-black-50">{{getProductDetailedDescription($product)}}</p>
            <p class="card-text font-weight-bold">{{getProductPrice($product)}}€</p>
            <select *ngIf="hasProductOptions($product)" id="selectProductCategory"  class="form-control" name="currentOption">
                <option  *ngFor="let $productOptions of $product.productOptions;">
                    {{$productOptions.productOptionDescription}}</option>
            </select>
            
            <div *ngIf="hasProductAdditions($product)">
                <p class="mt-3">Ihre Extras:</p>
            <div *ngFor="let productAddition of $product.productAdditions | slice:0:show;let i = index">
                <input type="checkbox" value="productAddition.additionDescription"
                    (change)="fetchPriceForSelectedAddition(productAddition,$event)" />
                <span> mit {{productAddition.additionDescription}}</span>
                <span>({{displayProductAdditionPriceForSelectedOption(productAddition)}}€)</span><br>
                <a *ngIf="i==2 && show == 3" (click)="show =  $product.productAdditions.length">
                    <span class="glyphicon glyphicon-chevron-down"></span>
                </a>
            </div>
           </div>
            <a class="btn btn-success btn-block" href="#">Bestellen</a>
        </div>

    </div>
</div>
</div>